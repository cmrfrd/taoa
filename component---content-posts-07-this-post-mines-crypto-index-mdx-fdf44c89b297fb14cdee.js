"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[984],{50546:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return l},default:function(){return g}});var o=n(87462),a=n(63366),i=(n(67294),n(10498)),r=n(36904),s=["components"],l={},p=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",t)}},h=p("Miner"),m=p("WalletState"),c=p("WalletInfo"),u={_frontmatter:l},d=r.Z;function g(e){var t=e.components,n=(0,a.Z)(e,s);return(0,i.kt)(d,(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(h,{running:!0,mdxType:"Miner"}),(0,i.kt)(m,{preText:"This post has made ",mdxType:"WalletState"}),(0,i.kt)("p",null,"Thanks for coming by!"),(0,i.kt)("p",null,'If the box above shows "running", then congratulations! You are actively mining\ncryptocurrency and contributing to a proof of work consensus algorithm!'),(0,i.kt)("p",null,"If you have no idea what that means, then don't worry about it! Just know that\nkeeping this tab open supports me in writing more content online ðŸ’ž"),(0,i.kt)("p",null,"For those of you who ",(0,i.kt)("em",{parentName:"p"},"do"),' know what this means, you are most likely thinking\n"how is this even possible?"'),(0,i.kt)("p",null,"You might have a lot of questions right now so I'm going to try and\npre-emptively answer as many as I can. If I leave anything out, feel free to\ntell me at ",(0,i.kt)("a",{parentName:"p",href:"mailto:alex@taoa.io"},"alex@taoa.io"),"."),(0,i.kt)("h2",{id:"what-is-this-post-about"},"What is this post about?"),(0,i.kt)("p",null,"An intro to how cryptocurrency mining works, and how to do it in the browser."),(0,i.kt)("h2",{id:"how-did-you-make-this"},"How did you make this?"),(0,i.kt)("p",null,"Webassembly and a little crypto knowledge (I'll elaborate on this later ðŸ‘‡)."),(0,i.kt)("h2",{id:"isnt-this-crypto-jacking"},"Isn't this crypto-jacking?"),(0,i.kt)("p",null,"Kinda, not really. Crypto-jacking implies I'm trying to actively steal your CPU\npower. Instead, I'm enabling you to donate your CPU power as a way to support an\nup-and-coming creator!"),(0,i.kt)("h2",{id:"is-the--amount-up-to-date"},"Is the $ amount up-to-date?"),(0,i.kt)("p",null,"It should be! Come back in a few days to see what the current revenue generated\nby this post is!"),(0,i.kt)("h2",{id:"how-does-this-post-mine-crypto"},'How does this post "mine crypto"?'),(0,i.kt)("p",null,"This is a bit of a big question so I'm going to break it down into smaller\npieces."),(0,i.kt)("h2",{id:"how-does-mining-work"},"How does mining work?"),(0,i.kt)("p",null,"Cryptocurrency mining has been around for so long and been written about so\nmuch, the internet can explain it better than I ever could."),(0,i.kt)("p",null,"Here are some top notch links that explain mining on a deeper level:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://monerodocs.org/proof-of-work/pow-in-cryptocurrencies/"},"https://monerodocs.org/proof-of-work/pow-in-cryptocurrencies/")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://andersbrownworth.com/blockchain/"},"https://andersbrownworth.com/blockchain/")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/"},"https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://academy.bit2me.com/en/que-algoritmo-mineria-randomx-monero"},"https://academy.bit2me.com/en/que-algoritmo-mineria-randomx-monero"))),(0,i.kt)("p",null,"If you don't wanna read this material, just know that mining is the process\nof many computers competing to solve math puzzles."),(0,i.kt)("p",null,'On any given day, billions of computers compete to solve these puzzles and are\nincentivized with a cryptocurrency reward (which has become quite valuable to\nmany). It\'s important to understand that this reward, called the "coinbase"\ntransaction, only goes to one address. This means that finding a solution is\nbinary (you either find it or you don\'t) and that this system is a "winner takes\nall" competition.'),(0,i.kt)("p",null,'Unfortunately, this puts those who only have a few computers at a disadvantage\nbecause more compute means more chances to "win".'),(0,i.kt)("p",null,"Luckily, all hope isn't lost to those who have little compute but want some of\nthe reward."),(0,i.kt)("p",null,"Enter pool mining."),(0,i.kt)("h2",{id:"how-does-pool-mining-work"},"How does pool mining work?"),(0,i.kt)("p",null,'Pool mining is simply the "pooling" or aggregation of compute resources from\nmany miners in an effort to be competitive in solving these math puzzles.'),(0,i.kt)("p",null,'In fact, it\'s very hard (and expensive) to solve these puzzles quickly as a\n"solo miner", and nowadays almost all mining is done in pools.'),(0,i.kt)("p",null,'The interesting thing about mining pools is even though the proof of work system\nis a "one winner takes all" competition, miners are incentivized to participate\nbecause any rewards the pool receives are split amongst its participants.'),(0,i.kt)("p",null,'Instead of pool miners putting their personal wallet address in the coinbase\ntransaction, they put the mining pool\'s address, which prevents miners from\nscamming the pool. Miners then "prove" to the pool (which is usually a\ncentralized service), that they have found "partial" solution, called "shares",\nand get paid according to the shares that they have submitted.'),(0,i.kt)("p",null,"The work to reward ratio depends on the pool. You can also get into the weeds\nabout different payout methods like ",(0,i.kt)("a",{parentName:"p",href:"https://minebest.com/blog/pps-vs-fpps-vs-pplns-vs-pps-mining-pool-payouts-explained"},"PPS, FPPS, PPS+, and\nPPLNS"),",\nbut it's unnecessary. Just know that they are all based on getting paid from how\nmuch \"work\" you've contributed."),(0,i.kt)("h2",{id:"how-does-this-post-actually-mine"},"How does this post actually mine?"),(0,i.kt)("p",null,"Alright, enough with the cryptocurrency theory and definitions. Let's break down\nhow this post mines, piece by piece."),(0,i.kt)("h2",{id:"piece-1-the-browser-miner"},"Piece 1: The browser miner"),(0,i.kt)("p",null,'The miner is the heart beat of the entire proof of work system. It\'s the part\nthat actually "does" the computing and create hashes in an attempt to solve the\npuzzles. Every cryptocurrency uses slightly different algorithms to make this\npossible, so implementations are cryptocurrency-specific.'),(0,i.kt)("p",null,"The mining algorithm used in the background of this post is called\n",(0,i.kt)("a",{parentName:"p",href:"https://monerodocs.org/proof-of-work/cryptonight/"},"Cryptonight")," and the mining\npool this post is a part of (",(0,i.kt)("a",{parentName:"p",href:"https://moneroocean.stream/"},"monero ocean"),")\nrewards us in Monero (XMR)."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"FYI: The latest version/fork of Monero uses a new algorithm called RandomX,\nbut Cryptonight is easier on desktop computers (which is most likely where\nyou're viewing this post).")),(0,i.kt)("p",null,"Browser mining is not new. Its been implemented and reimplemented multiple\ntimes, and instead of reimplementing Cryptonight and an entire browser miner, I\nmerged the best parts of multiple implementations in one place:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/notgiven688/webminerpool"},"https://github.com/notgiven688/webminerpool")," (and it's many forks)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/JayWalker512/CryptoNoter"},"https://github.com/JayWalker512/CryptoNoter")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/howardchung/jsminer"},"https://github.com/howardchung/jsminer"))),(0,i.kt)("p",null,"Once this page loads, a webworker+miner is run per core available (via\n",(0,i.kt)("inlineCode",{parentName:"p"},"window.navigator.hardwareConcurrency"),"). Shares are then actively computed in a\nWASM compiled implementation of Cryptonight (",(0,i.kt)("a",{parentName:"p",href:"https://github.com/notgiven688/webminerpool/blob/master/hash_cn/libhash/main.c"},"compiled from\nhere"),")\nand sent to the pool."),(0,i.kt)("p",null,"Check out the code ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/cmrfrd/taoa/blob/development/src/components/Miner/Miner.tsx"},"here"),"."),(0,i.kt)("h2",{id:"piece-2-connecting-to-the-pool"},"Piece 2: Connecting to the pool"),(0,i.kt)("p",null,'Most mining pools communicate via the\n"',(0,i.kt)("a",{parentName:"p",href:"https://en.bitcoinwiki.org/wiki/Stratum_mining_protocol"},"stratum"),'" protocol\n(which is just glorified JSON over a tcp socket).'),(0,i.kt)("p",null,"But fortunately, some pools support communication over websockets making\ncommunication from the browser much easier to build!"),(0,i.kt)("p",null,"This post connects to the pool via websockets and proxies the solved shares from the\nworkers, directly to the pool. An intermediary nginx proxy (running on\n",(0,i.kt)("a",{parentName:"p",href:"fly.io"},"fly.io"),") is used just in case the browser blocks the pool address ðŸ˜‰."),(0,i.kt)("p",null,"Here's a little diagram of the whole setup:"),(0,i.kt)("p",null,(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"445px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"93.03370786516852%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAACrUlEQVQ4y2VUiZKqMBD0/39td3VPFfHAFVAOAa9VCEm/ThAMvlSlEmYynZ7pCYOy9LDdjhCGQyTJJ6rKQ1mmECLF9bo0dj3T9Nv4qiqjL8b57CII3sxM6NM4dX3CAJjj15tgOZ8g9F0oOWNQQGcIWbvwlvQtJtiFLqAcBm6h1IbrDAt3bOKSiHFqyotyDejRkeHlxSfwCbVYEDCEqAMCrjGdZHh9DRAGJ3NBWUWQ8hei9PH9lWI43CKJj7Q5BCwIqOYoshTbIEaWJgxqGRJQzmnbEyzGIU/IngyrXQMolkjjvYk7H/UlE5Igw7peka6HKHqjcUWgJdOJCBqZvbZF0dCswrBPTQZS6pqtTJxSa9oW/D5qQEGDoiAxiiLnQQE9lJKoudf+OI6avfEp4xeiYkzCmKI5e8cZwBqHw8EcyvYFgR/2Pb/bISqJNMl4LqXSZzyPgUZtpx7lVeLrI8BkvDPz5yukMDHGP/zmfB/9Yu7sOwA73jBsgZpVobwp+JsrvNURa6ruTBN4XN3ZHot5btbQv1lgFrBmiCeGUipUJb+ZcpGfkWcns0+iHH8XYfYsH2wiDZTSH5ohevTboktZG6FaAd7fRxiNhvj8/IDvb3rp4h6nl0EHomxQsA0qo2ADWLPhBUvg8QnqZyn69UMLoRmiucAu7OVyMYFRFPE9X03wHwUdf29YP/2acGfUsWjSbkVRNn0Ox3H4pIZM8x2u6xpb6F/wQ5Wnk5Tg8pGNepTKpNzl+gR6u91wPB7v9ZS4/VGY+MqnWBpR7Joraz9Q6Kts1zCO48dlkCzBzohln4OVYZMyVFeP5yYPwxDr1RY1Gc0cD3me9cC6PrSE6drG6p5e+6yWBV5f+PPYNuIoqXqNjA602Q9shaD6dZS14i9KUJAS+V7899Ta+sGK/wcBhb0ymBqMXwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("picture",{parentName:"span"},"\n          ",(0,i.kt)("source",{parentName:"picture",srcSet:["/static/a03f2f30b686386f3431ff01b6987273/4772b/miner-arch.webp 445w"],sizes:"(max-width: 445px) 100vw, 445px",type:"image/webp"}),"\n          ",(0,i.kt)("source",{parentName:"picture",srcSet:["/static/a03f2f30b686386f3431ff01b6987273/d3ae0/miner-arch.png 445w"],sizes:"(max-width: 445px) 100vw, 445px",type:"image/png"}),"\n          ",(0,i.kt)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/static/a03f2f30b686386f3431ff01b6987273/d3ae0/miner-arch.png",alt:"img",title:"Architecture of this post",loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.kt)("h2",{id:"piece-3-seeing-rewards"},"Piece 3: Seeing rewards"),(0,i.kt)("p",null,'Monero transactions are\n"',(0,i.kt)("a",{parentName:"p",href:"https://www.getmonero.org/get-started/what-is-monero/"},"private"),'" by\ndefault. This means that any Monero sent to an\n',(0,i.kt)("a",{parentName:"p",href:"https://monerodocs.org/public-address/standard-address/"},"address"),' has a\n"hidden" amount, sender, and receiver. All of which is secured via advanced\ncryptography (specifically via ',(0,i.kt)("a",{parentName:"p",href:"https://www.getmonero.org/resources/moneropedia/ringsignatures.html"},"Ring\nSignatures"),")."),(0,i.kt)("p",null,"Even though Monero wallets are private, we can still publish our wallet balance."),(0,i.kt)("p",null,"This is because every Monero wallet comes with two sets of keys, one for\nspending and one for viewing. By publishing our wallet address and view key, our\nbalance can be transparent to the public which is great for an application like\nthis one!"),(0,i.kt)("p",null,"Here is the wallet and view key for your viewing convenience:"),(0,i.kt)(c,{mdxType:"WalletInfo"}),(0,i.kt)("h2",{id:"why-did-you-do-this"},"Why did you do this?"),(0,i.kt)("p",null,"Because it's cool!"),(0,i.kt)("p",null,"On a serious level though, I built this so I could understand pool mining and\nCryptonight at a deeper level (and potentially make some money while doing it\nðŸ’°)!"),(0,i.kt)("p",null,"I also wanted to experiment with the idea of using mining as an alternative\nmonetization method to ads, even though ",(0,i.kt)("a",{parentName:"p",href:"https://ifip.byu.edu/2019/DRW2019_paper_23.pdf"},"it's been\nshown")," to be a rather inferior\nmethod."),(0,i.kt)("p",null,"Cryptocurrency is quite a spectacular technology and I believe we've only\nscratched the surface of what we can do with it. So much of it is unknown and\ndespite what people say, no one knows what it means!"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"/img/Its_provocative.gif",alt:"img"})),(0,i.kt)("p",null,"Thanks for reading! Ê•â€¢á´¥â€¢Ê”"))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---content-posts-07-this-post-mines-crypto-index-mdx-fdf44c89b297fb14cdee.js.map