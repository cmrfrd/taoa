"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[229],{35972:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return l},default:function(){return h}});var a=n(87462),s=n(63366),i=(n(67294),n(10498)),o=n(50347),r=["components"],l={},p={_frontmatter:l},u=o.Z;function h(e){var t=e.components,n=(0,s.Z)(e,r);return(0,i.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"the-puzzle"},"The puzzle"),(0,i.kt)("p",null,'Last year I attended a multi lecture series "Math Explorations" at ',(0,i.kt)("a",{parentName:"p",href:"https://momath.org/"},"MoMath"),"\nhosted by ",(0,i.kt)("a",{parentName:"p",href:"https://www.stevenstrogatz.com/"},"Steven Strogatz"),". During the final lecture, Steve showed us this\n",(0,i.kt)("a",{parentName:"p",href:"https://twitter.com/10kdiver/status/1459494549919703041"},"interesting tweet"),". I encourage you to take a stab at the puzzle! Keep in\nmind the highlighted answer is the highest voted and not necessarily the right\nanswer."),(0,i.kt)("p",null,(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"586px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"75.25597269624573%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABmklEQVQoz41TS0/CQBAufdB2u9tt2aYoVWgrARQfMSRVHhoSPRBuejceDDdP3k04eOLqzV/rRxfKBZQvzWQym28e30yVj9nTz+K9Wj3odNpJkgoR4OOe73LPJsS2ibINpVJJ0zRl9jJdzN8chwZB4Pt+pVJxXbcihOM4yp4AwfM8xpgQAikYpXvRdF3TdZ0Qgpr+GqZp7kVWc9i2zTlHfZ4DZH0NvGI8OIZhSIvIhozpZcOgoXlY+GgEKoRhSClFMMyBeK1Wo8VQRWWE5OQA1AIZWeCwHHiFdXNstFxWVlXmWJzanBFYb+k4IkfRC4SAg4zIslzShqwotJqGrUyc9Hhy7aY99zB1GZXFAdSUK4QjmRClXC4rqqZjfOPyufn6zaZz/fFTm3yprUl+CuquC4miCL0oUrroqHE7HPeyQdYf4baWHZW2Q/LlLCvycSPuj8bZ4K57cYV9/LtgudeCnIzGDzfD+/bZeT1OIevfZEiA4iuyCML2aTdOm1E9hsWP8TcZ27IsC9OvTsiAfKZpGGXTsghx1GIfu/ELwcopYLor54EAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("picture",{parentName:"span"},"\n          ",(0,i.kt)("source",{parentName:"picture",srcSet:["/static/480d99c8a70eff9e01fee0bcad0cd6e9/fb375/twitter_puzzle.webp 586w"],sizes:"(max-width: 586px) 100vw, 586px",type:"image/webp"}),"\n          ",(0,i.kt)("source",{parentName:"picture",srcSet:["/static/480d99c8a70eff9e01fee0bcad0cd6e9/f285c/twitter_puzzle.png 586w"],sizes:"(max-width: 586px) 100vw, 586px",type:"image/png"}),"\n          ",(0,i.kt)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/static/480d99c8a70eff9e01fee0bcad0cd6e9/f285c/twitter_puzzle.png",alt:"img",title:"10-K Divers two stocks puzzle as a tweet",loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.kt)("p",null,"In this post I wanted to go over the solution to the puzzle and explore some\nextensions to the problem for fun!"),(0,i.kt)("h2",{id:"the-solution"},"The solution"),(0,i.kt)("p",null,"Attacking this puzzle ",(0,i.kt)("strong",{parentName:"p"},"seems")," simple at first glance, but has a interesting\nline of probabilistic reasoning (as most probability puzzles do) that will\ntake us to the solution."),(0,i.kt)("p",null,'Despite the tweet telling us the "average" price change of stock B is 10% (the\nsame as A), this is an incorrect description of B\'s price change. (This is\nonly expectation blah blah blah ...)'),(0,i.kt)("p",null,"In order to work towards the solution, lets write down everything we know."),(0,i.kt)("p",null,"We can write down the definitions of the problem as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"a_{n} = a_{n-1} * 1.1\n\no ~ Bernoulli(0.5) # 1 or 0\nb_{n} = b_{n-1} * ((o)*1.3 + (1-o)*0.9)\n")),(0,i.kt)("p",null,"One thing we know for certain about this puzzle is that the future price of stock\nA can be calculated as follows"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"a_p10 = (a_9 * 1.1)\na_p9 = (a_8 * 1.1)\n...\na_p0 = $100\n\n$100 * (1.1) ** 10 = $259.37\n")),(0,i.kt)("p",null,"Stock A is awesome as it gets us over 2.5x our initial investment after 10\nyears garunteed! Now knowing stock A's future price, we need to see how\nit compares to stock B's future price and how likely B is to overtake A."),(0,i.kt)("p",null,'It\'s clear to see that stock B after 10 years can reach multiple prices. For\nexample, if stock B "wins" 9 years out of the 10, the future price can be\ncalculated as:'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"b_p0 = 100\nw = 9\nl = 10 - w\n\nb_p0 * ((1.3) ** w) * (0.9 ** l) = b_p10\n$100 * ((1.3) ** 9) * (0.9 ** 1) = $954.4\n")),(0,i.kt)("p",null,"Wawaweewa! This is almost 10x our initial investment! Albeit rare as we have a\n0.1% chance of winning 9 times."),(0,i.kt)("p",null,'The next question we should ask ourselves, is how many "wins" will it take to\novertake stock A?'),(0,i.kt)("p",null,"By formulating this question, we get the following expression:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"$100 * ((1.3) ** x) * (0.9 ** (10-x)) = $100 * (1.1) ** 10\n")),(0,i.kt)("p",null,'Now we need to solve for "x" (the number of wins) to determine how many it\nwill take to "break even" with A. Simplifying and solving we get:'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"$100 * ((1.3) ** x) * (0.9 ** (10-x)) > $100 * (1.1) ** 10\n((1.3) ** x) * (0.9 ** (10-x)) > 2.59\n(0.34) * ((1.3) ** x) / (0.9 ** (x)) > 2.59\n((1.3) ** x) / (0.9 ** (x)) > 7.62\n(1.3/0.9)**x > 7.62\n(1.44)**x > 7.62\nx*log(1.44) > log(7.62)\nx = 5.57\n")),(0,i.kt)("p",null,'The problem with the answer of "5.57" years is that since stock B either\n"wins" or "loses", the problem is discrete in nature, hence we cannot have a "half"\nyear. But we can easily fix this by rounding up which we know beats stock A.'),(0,i.kt)("p",null,'Knowing we need to win 6 times, the natural question to ask is, "what are the\nodds of winning 6 times". The initial urge is to say (0.5 ',(0,i.kt)("strong",{parentName:"p"},"*"," 6) = 1%, but this\nis a ","*","mistake"),'! With this result we are instead answering the question "What\nis the probability of any ',(0,i.kt)("strong",{parentName:"p"},"sequence"),' of 6 wins/losses?"'),(0,i.kt)("p",null,'In order to answer our original question "What is the probability of B\novertaking A", the underlying question we ',(0,i.kt)("strong",{parentName:"p"},"really"),' want to answer is "Out of\nall the possible ',(0,i.kt)("strong",{parentName:"p"},"sequences"),' of 10 wins/losses, what is the probability of B\ngetting 6 wins?"'),(0,i.kt)("p",null,'To answer this question, we need to think in terms of permutations! Every year\nis an independent event, meaning the order in which stock B "wins" or "loses"\ndoesn\'t change the price, just how many "wins" or "losses". Using this piece\nof insight, our answer lies in the count of ',(0,i.kt)("strong",{parentName:"p"},"all")," winning sequences divided by\n",(0,i.kt)("strong",{parentName:"p"},"all")," possible sequences."),(0,i.kt)("p",null,"formulating this idea can be done as follows with the k-permutations formula\n(also known as the binomial coefficients formula):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"n! / (n-k)!k! = C(n,k)\n\nsum(C(10,k), 6, 10) / (2**10) = 386\n")),(0,i.kt)("p",null,"Now we can compare this to all the possible sequences of wins and losses:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"386 / 2 ** 10 = 0.38 = 38%\n")),(0,i.kt)("p",null,"So 38% is our final answer!"),(0,i.kt)("h2",{id:"extensions"},"Extensions"),(0,i.kt)("h3",{id:"how-does-changing-the--price-change-our-results"},"How does changing the % price change our results?"),(0,i.kt)("p",null,"Create a 2d plot of odds that keep the results the same"),(0,i.kt)("p",null,"Create a 3d plot of odds"),(0,i.kt)("h3",{id:"what-about-returns"},"What about returns?"),(0,i.kt)("h3",{id:"if-we-could-bet-on-a-and-b-what-would-be-the-best-strategy"},"If we could bet on A and B, what would be the best strategy?"),(0,i.kt)("h2",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,"Statistics is kool"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"from sage.functions.other import binomial\n\nyears = 10\np_win = 0.5\np_lose = 1 - p_win\na_perc = 1.1\nb_perc_if_win = 1.3\nb_perc_if_lose = 0.9\ninit_price = 100\n\n## A after 10 years\na_final = init_price * (a_perc) ** years\n\n## prob of B increasing past A\nnum_wins = var('w')\nmin_num_wins = (\n   init_price * ((b_perc_if_win) ** num_wins) * (b_perc_if_lose ** (years-num_wins)) =\n   a_final\n)\n\n\na, b = var('a b')\nassume(a, 'integer')\nassume(b, 'integer')\n\nprint(binomial(a,b))\n")))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---content-posts-06-charles-mungers-two-stocks-puzzle-index-mdx-70e8da5a35ddb1a35a95.js.map