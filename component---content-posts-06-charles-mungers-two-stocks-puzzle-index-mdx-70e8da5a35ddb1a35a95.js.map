{"version":3,"file":"component---content-posts-06-charles-mungers-two-stocks-puzzle-index-mdx-70e8da5a35ddb1a35a95.js","mappings":"iRAQaA,EAAe,GACtBC,EAAc,CAClBD,aAAAA,GAEIE,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,QAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,cACE,GAAM,cADR,eAGA,wFAA0E,aAAGC,WAAW,IACpF,KAAQ,uBAD8D,UAA1E,gBAGQ,aAAGA,WAAW,IAClB,KAAQ,mCADJ,mBAHR,sDAMF,aAAGA,WAAW,IACR,KAAQ,2DADd,qBANE,qJAWA,kBAAG,gBAAMA,WAAW,IAChB,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,UAPf,YAUC,gBAAMA,WAAW,OACf,UAAa,qCACb,MAAS,CACP,cAAiB,qBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,gBAAmB,4qBACnB,eAAkB,QAClB,QAAW,WAnBhB,QAsBH,mBAASA,WAAW,QAApB,gBACQ,kBAAQA,WAAW,UACnB,OAAU,CAAC,2EACX,MAAS,kCACT,KAAQ,eAJhB,gBAMQ,kBAAQA,WAAW,UACnB,OAAU,CAAC,0EACX,MAAS,kCACT,KAAQ,cAThB,gBAWQ,eAAKA,WAAW,UAChB,UAAa,0BACb,IAAO,oEACP,IAAO,MACP,MAAS,2CACT,QAAW,OACX,SAAY,QACZ,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,IAAO,IACP,KAAQ,OAzBlB,cAtBG,YAoDH,sIAEA,cACE,GAAM,gBADR,iBAGA,2CAA6B,kBAAQA,WAAW,KAAnB,SAA7B,yJAGA,uNAGA,gGACA,kFACA,oBAAK,gBAAMA,WAAW,MAClB,UAAa,mBADZ,qGAOL,uIAEA,oBAAK,gBAAMA,WAAW,MAClB,UAAa,mBADZ,iGASL,mPAGA,8LAGA,oBAAK,gBAAMA,WAAW,MAClB,UAAa,mBADZ,4HASL,qIAEA,sHAEA,oFACA,oBAAK,gBAAMA,WAAW,MAClB,UAAa,mBADZ,kEAIL,mKAEA,oBAAK,gBAAMA,WAAW,MAClB,UAAa,mBADZ,oQAWL,iQAGA,8JACwD,kBAAQA,WAAW,KAAnB,+CADxD,8FAGwB,kBAAQA,WAAW,KAAnB,YAHxB,wBAIA,uIACwC,kBAAQA,WAAW,KAAnB,UADxC,iDAEe,kBAAQA,WAAW,KAAnB,aAFf,uEAIA,+SAG0C,kBAAQA,WAAW,KAAnB,OAH1C,mCAIF,kBAAQA,WAAW,KAAnB,OAJE,yBAKA,sJAEA,oBAAK,gBAAMA,WAAW,MAClB,UAAa,mBADZ,qEAML,+FACA,oBAAK,gBAAMA,WAAW,MAClB,UAAa,mBADZ,kCAIL,iDACA,cACE,GAAM,cADR,eAGA,cACE,GAAM,mDADR,sDAGA,6EACA,8CACA,cACE,GAAM,sBADR,wBAGA,cACE,GAAM,8DADR,iEAGA,cACE,GAAM,cADR,eAGA,wCACA,oBAAK,gBAAMA,WAAW,MAClB,UAAa,mBADZ,ufAiCTJ,EAAWK,gBAAiB","sources":["webpack://TAOA/./content/posts/06_charles_mungers_two_stocks_puzzle/index.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/node/work/src/templates/post.template.tsx\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2 {...{\n      \"id\": \"the-puzzle\"\n    }}>{`The puzzle`}</h2>\n    <p>{`Last year I attended a multi lecture series \"Math Explorations\" at `}<a parentName=\"p\" {...{\n        \"href\": \"https://momath.org/\"\n      }}>{`MoMath`}</a>{`\nhosted by `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.stevenstrogatz.com/\"\n      }}>{`Steven Strogatz`}</a>{`. During the final lecture, Steve showed us this\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://twitter.com/10kdiver/status/1459494549919703041\"\n      }}>{`interesting tweet`}</a>{`. I encourage you to take a stab at the puzzle! Keep in\nmind the highlighted answer is the highest voted and not necessarily the right\nanswer.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"586px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"75.25597269624573%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABmklEQVQoz41TS0/CQBAufdB2u9tt2aYoVWgrARQfMSRVHhoSPRBuejceDDdP3k04eOLqzV/rRxfKBZQvzWQym28e30yVj9nTz+K9Wj3odNpJkgoR4OOe73LPJsS2ibINpVJJ0zRl9jJdzN8chwZB4Pt+pVJxXbcihOM4yp4AwfM8xpgQAikYpXvRdF3TdZ0Qgpr+GqZp7kVWc9i2zTlHfZ4DZH0NvGI8OIZhSIvIhozpZcOgoXlY+GgEKoRhSClFMMyBeK1Wo8VQRWWE5OQA1AIZWeCwHHiFdXNstFxWVlXmWJzanBFYb+k4IkfRC4SAg4zIslzShqwotJqGrUyc9Hhy7aY99zB1GZXFAdSUK4QjmRClXC4rqqZjfOPyufn6zaZz/fFTm3yprUl+CuquC4miCL0oUrroqHE7HPeyQdYf4baWHZW2Q/LlLCvycSPuj8bZ4K57cYV9/LtgudeCnIzGDzfD+/bZeT1OIevfZEiA4iuyCML2aTdOm1E9hsWP8TcZ27IsC9OvTsiAfKZpGGXTsghx1GIfu/ELwcopYLor54EAAAAASUVORK5CYII=')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/static/480d99c8a70eff9e01fee0bcad0cd6e9/fb375/twitter_puzzle.webp 586w\"],\n            \"sizes\": \"(max-width: 586px) 100vw, 586px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/static/480d99c8a70eff9e01fee0bcad0cd6e9/f285c/twitter_puzzle.png 586w\"],\n            \"sizes\": \"(max-width: 586px) 100vw, 586px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/static/480d99c8a70eff9e01fee0bcad0cd6e9/f285c/twitter_puzzle.png\",\n            \"alt\": \"img\",\n            \"title\": \"10-K Divers two stocks puzzle as a tweet\",\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`In this post I wanted to go over the solution to the puzzle and explore some\nextensions to the problem for fun!`}</p>\n    <h2 {...{\n      \"id\": \"the-solution\"\n    }}>{`The solution`}</h2>\n    <p>{`Attacking this puzzle `}<strong parentName=\"p\">{`seems`}</strong>{` simple at first glance, but has a interesting\nline of probabilistic reasoning (as most probability puzzles do) that will\ntake us to the solution.`}</p>\n    <p>{`Despite the tweet telling us the \"average\" price change of stock B is 10% (the\nsame as A), this is an incorrect description of B's price change. (This is\nonly expectation blah blah blah ...)`}</p>\n    <p>{`In order to work towards the solution, lets write down everything we know.`}</p>\n    <p>{`We can write down the definitions of the problem as follows:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`a_{n} = a_{n-1} * 1.1\n\no ~ Bernoulli(0.5) # 1 or 0\nb_{n} = b_{n-1} * ((o)*1.3 + (1-o)*0.9)\n`}</code></pre>\n    <p>{`One thing we know for certain about this puzzle is that the future price of stock\nA can be calculated as follows`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`a_p10 = (a_9 * 1.1)\na_p9 = (a_8 * 1.1)\n...\na_p0 = $100\n\n$100 * (1.1) ** 10 = $259.37\n`}</code></pre>\n    <p>{`Stock A is awesome as it gets us over 2.5x our initial investment after 10\nyears garunteed! Now knowing stock A's future price, we need to see how\nit compares to stock B's future price and how likely B is to overtake A.`}</p>\n    <p>{`It's clear to see that stock B after 10 years can reach multiple prices. For\nexample, if stock B \"wins\" 9 years out of the 10, the future price can be\ncalculated as:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`b_p0 = 100\nw = 9\nl = 10 - w\n\nb_p0 * ((1.3) ** w) * (0.9 ** l) = b_p10\n$100 * ((1.3) ** 9) * (0.9 ** 1) = $954.4\n`}</code></pre>\n    <p>{`Wawaweewa! This is almost 10x our initial investment! Albeit rare as we have a\n0.1% chance of winning 9 times.`}</p>\n    <p>{`The next question we should ask ourselves, is how many \"wins\" will it take to\novertake stock A?`}</p>\n    <p>{`By formulating this question, we get the following expression:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`$100 * ((1.3) ** x) * (0.9 ** (10-x)) = $100 * (1.1) ** 10\n`}</code></pre>\n    <p>{`Now we need to solve for \"x\" (the number of wins) to determine how many it\nwill take to \"break even\" with A. Simplifying and solving we get:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`$100 * ((1.3) ** x) * (0.9 ** (10-x)) > $100 * (1.1) ** 10\n((1.3) ** x) * (0.9 ** (10-x)) > 2.59\n(0.34) * ((1.3) ** x) / (0.9 ** (x)) > 2.59\n((1.3) ** x) / (0.9 ** (x)) > 7.62\n(1.3/0.9)**x > 7.62\n(1.44)**x > 7.62\nx*log(1.44) > log(7.62)\nx = 5.57\n`}</code></pre>\n    <p>{`The problem with the answer of \"5.57\" years is that since stock B either\n\"wins\" or \"loses\", the problem is discrete in nature, hence we cannot have a \"half\"\nyear. But we can easily fix this by rounding up which we know beats stock A.`}</p>\n    <p>{`Knowing we need to win 6 times, the natural question to ask is, \"what are the\nodds of winning 6 times\". The initial urge is to say (0.5 `}<strong parentName=\"p\">{`*`}{` 6) = 1%, but this\nis a `}{`*`}{`mistake`}</strong>{`! With this result we are instead answering the question \"What\nis the probability of any `}<strong parentName=\"p\">{`sequence`}</strong>{` of 6 wins/losses?\"`}</p>\n    <p>{`In order to answer our original question \"What is the probability of B\novertaking A\", the underlying question we `}<strong parentName=\"p\">{`really`}</strong>{` want to answer is \"Out of\nall the possible `}<strong parentName=\"p\">{`sequences`}</strong>{` of 10 wins/losses, what is the probability of B\ngetting 6 wins?\"`}</p>\n    <p>{`To answer this question, we need to think in terms of permutations! Every year\nis an independent event, meaning the order in which stock B \"wins\" or \"loses\"\ndoesn't change the price, just how many \"wins\" or \"losses\". Using this piece\nof insight, our answer lies in the count of `}<strong parentName=\"p\">{`all`}</strong>{` winning sequences divided by\n`}<strong parentName=\"p\">{`all`}</strong>{` possible sequences.`}</p>\n    <p>{`formulating this idea can be done as follows with the k-permutations formula\n(also known as the binomial coefficients formula):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`n! / (n-k)!k! = C(n,k)\n\nsum(C(10,k), 6, 10) / (2**10) = 386\n`}</code></pre>\n    <p>{`Now we can compare this to all the possible sequences of wins and losses:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`386 / 2 ** 10 = 0.38 = 38%\n`}</code></pre>\n    <p>{`So 38% is our final answer!`}</p>\n    <h2 {...{\n      \"id\": \"extensions\"\n    }}>{`Extensions`}</h2>\n    <h3 {...{\n      \"id\": \"how-does-changing-the--price-change-our-results\"\n    }}>{`How does changing the % price change our results?`}</h3>\n    <p>{`Create a 2d plot of odds that keep the results the same`}</p>\n    <p>{`Create a 3d plot of odds`}</p>\n    <h3 {...{\n      \"id\": \"what-about-returns\"\n    }}>{`What about returns?`}</h3>\n    <h3 {...{\n      \"id\": \"if-we-could-bet-on-a-and-b-what-would-be-the-best-strategy\"\n    }}>{`If we could bet on A and B, what would be the best strategy?`}</h3>\n    <h2 {...{\n      \"id\": \"conclusion\"\n    }}>{`Conclusion`}</h2>\n    <p>{`Statistics is kool`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`from sage.functions.other import binomial\n\nyears = 10\np_win = 0.5\np_lose = 1 - p_win\na_perc = 1.1\nb_perc_if_win = 1.3\nb_perc_if_lose = 0.9\ninit_price = 100\n\n## A after 10 years\na_final = init_price * (a_perc) ** years\n\n## prob of B increasing past A\nnum_wins = var('w')\nmin_num_wins = (\n   init_price * ((b_perc_if_win) ** num_wins) * (b_perc_if_lose ** (years-num_wins)) =\n   a_final\n)\n\n\na, b = var('a b')\nassume(a, 'integer')\nassume(b, 'integer')\n\nprint(binomial(a,b))\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}